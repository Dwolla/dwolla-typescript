/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { smartUnion } from "../types/union.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";
import { HalLink, HalLink$inboundSchema } from "./hallink.js";
import {
  ReceiveOnlyCustomer,
  ReceiveOnlyCustomer$inboundSchema,
} from "./receiveonlycustomer.js";
import {
  UnverifiedCustomer,
  UnverifiedCustomer$inboundSchema,
} from "./unverifiedcustomer.js";
import {
  VerifiedBusinessCustomer,
  VerifiedBusinessCustomer$inboundSchema,
} from "./verifiedbusinesscustomer.js";
import {
  VerifiedPersonalCustomer,
  VerifiedPersonalCustomer$inboundSchema,
} from "./verifiedpersonalcustomer.js";
import {
  VerifiedSolePropCustomer,
  VerifiedSolePropCustomer$inboundSchema,
} from "./verifiedsolepropcustomer.js";

export type Customer =
  | VerifiedBusinessCustomer
  | VerifiedSolePropCustomer
  | VerifiedPersonalCustomer
  | UnverifiedCustomer
  | ReceiveOnlyCustomer;

export type CustomersEmbedded = {
  customers?:
    | Array<
      | VerifiedBusinessCustomer
      | VerifiedSolePropCustomer
      | VerifiedPersonalCustomer
      | UnverifiedCustomer
      | ReceiveOnlyCustomer
    >
    | undefined;
};

export type Customers = {
  links?: { [k: string]: HalLink } | undefined;
  embedded?: CustomersEmbedded | undefined;
};

/** @internal */
export const Customer$inboundSchema: z.ZodType<
  Customer,
  z.ZodTypeDef,
  unknown
> = smartUnion([
  VerifiedBusinessCustomer$inboundSchema,
  VerifiedSolePropCustomer$inboundSchema,
  VerifiedPersonalCustomer$inboundSchema,
  UnverifiedCustomer$inboundSchema,
  ReceiveOnlyCustomer$inboundSchema,
]);

export function customerFromJSON(
  jsonString: string,
): SafeParseResult<Customer, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Customer$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Customer' from JSON`,
  );
}

/** @internal */
export const CustomersEmbedded$inboundSchema: z.ZodType<
  CustomersEmbedded,
  z.ZodTypeDef,
  unknown
> = z.object({
  customers: z.array(
    smartUnion([
      VerifiedBusinessCustomer$inboundSchema,
      VerifiedSolePropCustomer$inboundSchema,
      VerifiedPersonalCustomer$inboundSchema,
      UnverifiedCustomer$inboundSchema,
      ReceiveOnlyCustomer$inboundSchema,
    ]),
  ).optional(),
});

export function customersEmbeddedFromJSON(
  jsonString: string,
): SafeParseResult<CustomersEmbedded, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CustomersEmbedded$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CustomersEmbedded' from JSON`,
  );
}

/** @internal */
export const Customers$inboundSchema: z.ZodType<
  Customers,
  z.ZodTypeDef,
  unknown
> = z.object({
  _links: z.record(HalLink$inboundSchema).optional(),
  _embedded: z.lazy(() => CustomersEmbedded$inboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    "_links": "links",
    "_embedded": "embedded",
  });
});

export function customersFromJSON(
  jsonString: string,
): SafeParseResult<Customers, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Customers$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Customers' from JSON`,
  );
}
