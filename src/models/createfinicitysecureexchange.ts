/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { RFCDate } from "../types/rfcdate.js";

export type CreateFinicitySecureExchangeExchangePartner = {
  href?: string | undefined;
};

export type CreateFinicitySecureExchangeLinks = {
  exchangePartner?: CreateFinicitySecureExchangeExchangePartner | undefined;
};

export type AccessPeriod = {
  type?: string | undefined;
  startTime?: RFCDate | undefined;
  endTime?: Date | undefined;
};

export type Product = {
  product?: string | undefined;
  accountId?: string | undefined;
  accessPeriod?: AccessPeriod | undefined;
};

export type Finicity = {
  profile?: number | undefined;
  version?: string | undefined;
  receiptId?: string | undefined;
  receiptVersion?: string | undefined;
  customerId?: string | undefined;
  partnerId?: number | undefined;
  products?: Array<Product> | undefined;
  timestamp?: Date | undefined;
};

export type CreateFinicitySecureExchange = {
  links?: CreateFinicitySecureExchangeLinks | undefined;
  finicity?: Finicity | undefined;
};

/** @internal */
export type CreateFinicitySecureExchangeExchangePartner$Outbound = {
  href?: string | undefined;
};

/** @internal */
export const CreateFinicitySecureExchangeExchangePartner$outboundSchema:
  z.ZodType<
    CreateFinicitySecureExchangeExchangePartner$Outbound,
    z.ZodTypeDef,
    CreateFinicitySecureExchangeExchangePartner
  > = z.object({
    href: z.string().optional(),
  });

export function createFinicitySecureExchangeExchangePartnerToJSON(
  createFinicitySecureExchangeExchangePartner:
    CreateFinicitySecureExchangeExchangePartner,
): string {
  return JSON.stringify(
    CreateFinicitySecureExchangeExchangePartner$outboundSchema.parse(
      createFinicitySecureExchangeExchangePartner,
    ),
  );
}

/** @internal */
export type CreateFinicitySecureExchangeLinks$Outbound = {
  "exchange-partner"?:
    | CreateFinicitySecureExchangeExchangePartner$Outbound
    | undefined;
};

/** @internal */
export const CreateFinicitySecureExchangeLinks$outboundSchema: z.ZodType<
  CreateFinicitySecureExchangeLinks$Outbound,
  z.ZodTypeDef,
  CreateFinicitySecureExchangeLinks
> = z.object({
  exchangePartner: z.lazy(() =>
    CreateFinicitySecureExchangeExchangePartner$outboundSchema
  ).optional(),
}).transform((v) => {
  return remap$(v, {
    exchangePartner: "exchange-partner",
  });
});

export function createFinicitySecureExchangeLinksToJSON(
  createFinicitySecureExchangeLinks: CreateFinicitySecureExchangeLinks,
): string {
  return JSON.stringify(
    CreateFinicitySecureExchangeLinks$outboundSchema.parse(
      createFinicitySecureExchangeLinks,
    ),
  );
}

/** @internal */
export type AccessPeriod$Outbound = {
  type?: string | undefined;
  startTime?: string | undefined;
  endTime?: string | undefined;
};

/** @internal */
export const AccessPeriod$outboundSchema: z.ZodType<
  AccessPeriod$Outbound,
  z.ZodTypeDef,
  AccessPeriod
> = z.object({
  type: z.string().optional(),
  startTime: z.instanceof(RFCDate).transform(v => v.toString()).optional(),
  endTime: z.date().transform(v => v.toISOString()).optional(),
});

export function accessPeriodToJSON(accessPeriod: AccessPeriod): string {
  return JSON.stringify(AccessPeriod$outboundSchema.parse(accessPeriod));
}

/** @internal */
export type Product$Outbound = {
  product?: string | undefined;
  accountId?: string | undefined;
  accessPeriod?: AccessPeriod$Outbound | undefined;
};

/** @internal */
export const Product$outboundSchema: z.ZodType<
  Product$Outbound,
  z.ZodTypeDef,
  Product
> = z.object({
  product: z.string().optional(),
  accountId: z.string().optional(),
  accessPeriod: z.lazy(() => AccessPeriod$outboundSchema).optional(),
});

export function productToJSON(product: Product): string {
  return JSON.stringify(Product$outboundSchema.parse(product));
}

/** @internal */
export type Finicity$Outbound = {
  profile?: number | undefined;
  version?: string | undefined;
  receiptId?: string | undefined;
  receiptVersion?: string | undefined;
  customerId?: string | undefined;
  partnerId?: number | undefined;
  products?: Array<Product$Outbound> | undefined;
  timestamp?: string | undefined;
};

/** @internal */
export const Finicity$outboundSchema: z.ZodType<
  Finicity$Outbound,
  z.ZodTypeDef,
  Finicity
> = z.object({
  profile: z.number().int().optional(),
  version: z.string().optional(),
  receiptId: z.string().optional(),
  receiptVersion: z.string().optional(),
  customerId: z.string().optional(),
  partnerId: z.number().int().optional(),
  products: z.array(z.lazy(() => Product$outboundSchema)).optional(),
  timestamp: z.date().transform(v => v.toISOString()).optional(),
});

export function finicityToJSON(finicity: Finicity): string {
  return JSON.stringify(Finicity$outboundSchema.parse(finicity));
}

/** @internal */
export type CreateFinicitySecureExchange$Outbound = {
  _links?: CreateFinicitySecureExchangeLinks$Outbound | undefined;
  finicity?: Finicity$Outbound | undefined;
};

/** @internal */
export const CreateFinicitySecureExchange$outboundSchema: z.ZodType<
  CreateFinicitySecureExchange$Outbound,
  z.ZodTypeDef,
  CreateFinicitySecureExchange
> = z.object({
  links: z.lazy(() => CreateFinicitySecureExchangeLinks$outboundSchema)
    .optional(),
  finicity: z.lazy(() => Finicity$outboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    links: "_links",
  });
});

export function createFinicitySecureExchangeToJSON(
  createFinicitySecureExchange: CreateFinicitySecureExchange,
): string {
  return JSON.stringify(
    CreateFinicitySecureExchange$outboundSchema.parse(
      createFinicitySecureExchange,
    ),
  );
}
