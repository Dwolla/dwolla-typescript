/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import * as models from "../index.js";

export type InitiateTransferLinksSource = {
  href?: string | undefined;
};

export type InitiateTransferLinksDestination = {
  href?: string | undefined;
};

export type InitiateTransferLinks = {
  source?: InitiateTransferLinksSource | undefined;
  destination?: InitiateTransferLinksDestination | undefined;
};

export type InitiateTransferMetadata = {};

export type ChargeTo = {
  href?: string | undefined;
};

export type FeeLinks = {
  chargeTo?: ChargeTo | undefined;
};

export type Fee = {
  links?: FeeLinks | undefined;
  amount?: models.TransferAmount | undefined;
};

export type InitiateTransferClearing = {
  source?: string | undefined;
  destination?: string | undefined;
};

export type InitiateTransferSourceAddenda = {
  values?: Array<string> | undefined;
};

export type InitiateTransferAchDetailsSource = {
  addenda?: InitiateTransferSourceAddenda | undefined;
};

export type InitiateTransferDestinationAddenda = {
  values?: Array<string> | undefined;
};

export type InitiateTransferAchDetailsDestination = {
  addenda?: InitiateTransferDestinationAddenda | undefined;
};

export type InitiateTransferAchDetails = {
  source?: InitiateTransferAchDetailsSource | undefined;
  destination?: InitiateTransferAchDetailsDestination | undefined;
};

/**
 * RTP details for the destination
 */
export type RtpDetailsDestination = {
  /**
   * Remittance information for Real-Time Payments, providing context about the payment purpose. Acceptable characters: alphanumeric (0-9, a-z, A-Z), space, and special characters (#,.'&/-@!$%*()_+={}|:;`[]^~\")
   */
  remittanceData?: string | undefined;
};

/**
 * Real-Time Payments (RTP) specific transaction details.
 */
export type RtpDetails = {
  /**
   * RTP details for the destination
   */
  destination?: RtpDetailsDestination | undefined;
};

/**
 * Instant payment details for the destination
 */
export type InstantDetailsDestination = {
  /**
   * Remittance information for Instant Payments (RTP/FedNow), providing context about the payment purpose. Acceptable characters: alphanumeric (0-9, a-z, A-Z), space, and special characters (#,.'&/-@!$%*()_+={}|:;`[]^~\")
   */
  remittanceData?: string | undefined;
};

/**
 * Instant Payments specific transaction details for both RTP and FedNow networks.
 */
export type InstantDetails = {
  /**
   * Instant payment details for the destination
   */
  destination?: InstantDetailsDestination | undefined;
};

export const DestinationEnum = {
  RealTimePayments: "real-time-payments",
  Instant: "instant",
} as const;
export type DestinationEnum = ClosedEnum<typeof DestinationEnum>;

export type InitiateTransferProcessingChannel = {
  destination?: DestinationEnum | undefined;
};

/**
 * Parameters to initiate a transfer
 */
export type InitiateTransferRequestBody = {
  links: InitiateTransferLinks;
  amount: models.TransferAmount;
  metadata?: InitiateTransferMetadata | undefined;
  fees?: Array<Fee> | undefined;
  clearing?: InitiateTransferClearing | undefined;
  achDetails?: InitiateTransferAchDetails | undefined;
  /**
   * Real-Time Payments (RTP) specific transaction details.
   */
  rtpDetails?: RtpDetails | undefined;
  /**
   * Instant Payments specific transaction details for both RTP and FedNow networks.
   */
  instantDetails?: InstantDetails | undefined;
  correlationId?: string | undefined;
  processingChannel?: InitiateTransferProcessingChannel | undefined;
};

export type InitiateTransferRequest = {
  idempotencyKey?: string | undefined;
  /**
   * Parameters to initiate a transfer
   */
  requestBody: InitiateTransferRequestBody;
};

export type InitiateTransferResponse = {
  headers: { [k: string]: Array<string> };
};

/** @internal */
export type InitiateTransferLinksSource$Outbound = {
  href?: string | undefined;
};

/** @internal */
export const InitiateTransferLinksSource$outboundSchema: z.ZodType<
  InitiateTransferLinksSource$Outbound,
  z.ZodTypeDef,
  InitiateTransferLinksSource
> = z.object({
  href: z.string().optional(),
});

export function initiateTransferLinksSourceToJSON(
  initiateTransferLinksSource: InitiateTransferLinksSource,
): string {
  return JSON.stringify(
    InitiateTransferLinksSource$outboundSchema.parse(
      initiateTransferLinksSource,
    ),
  );
}

/** @internal */
export type InitiateTransferLinksDestination$Outbound = {
  href?: string | undefined;
};

/** @internal */
export const InitiateTransferLinksDestination$outboundSchema: z.ZodType<
  InitiateTransferLinksDestination$Outbound,
  z.ZodTypeDef,
  InitiateTransferLinksDestination
> = z.object({
  href: z.string().optional(),
});

export function initiateTransferLinksDestinationToJSON(
  initiateTransferLinksDestination: InitiateTransferLinksDestination,
): string {
  return JSON.stringify(
    InitiateTransferLinksDestination$outboundSchema.parse(
      initiateTransferLinksDestination,
    ),
  );
}

/** @internal */
export type InitiateTransferLinks$Outbound = {
  source?: InitiateTransferLinksSource$Outbound | undefined;
  destination?: InitiateTransferLinksDestination$Outbound | undefined;
};

/** @internal */
export const InitiateTransferLinks$outboundSchema: z.ZodType<
  InitiateTransferLinks$Outbound,
  z.ZodTypeDef,
  InitiateTransferLinks
> = z.object({
  source: z.lazy(() => InitiateTransferLinksSource$outboundSchema).optional(),
  destination: z.lazy(() => InitiateTransferLinksDestination$outboundSchema)
    .optional(),
});

export function initiateTransferLinksToJSON(
  initiateTransferLinks: InitiateTransferLinks,
): string {
  return JSON.stringify(
    InitiateTransferLinks$outboundSchema.parse(initiateTransferLinks),
  );
}

/** @internal */
export type InitiateTransferMetadata$Outbound = {};

/** @internal */
export const InitiateTransferMetadata$outboundSchema: z.ZodType<
  InitiateTransferMetadata$Outbound,
  z.ZodTypeDef,
  InitiateTransferMetadata
> = z.object({});

export function initiateTransferMetadataToJSON(
  initiateTransferMetadata: InitiateTransferMetadata,
): string {
  return JSON.stringify(
    InitiateTransferMetadata$outboundSchema.parse(initiateTransferMetadata),
  );
}

/** @internal */
export type ChargeTo$Outbound = {
  href?: string | undefined;
};

/** @internal */
export const ChargeTo$outboundSchema: z.ZodType<
  ChargeTo$Outbound,
  z.ZodTypeDef,
  ChargeTo
> = z.object({
  href: z.string().optional(),
});

export function chargeToToJSON(chargeTo: ChargeTo): string {
  return JSON.stringify(ChargeTo$outboundSchema.parse(chargeTo));
}

/** @internal */
export type FeeLinks$Outbound = {
  "charge-to"?: ChargeTo$Outbound | undefined;
};

/** @internal */
export const FeeLinks$outboundSchema: z.ZodType<
  FeeLinks$Outbound,
  z.ZodTypeDef,
  FeeLinks
> = z.object({
  chargeTo: z.lazy(() => ChargeTo$outboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    chargeTo: "charge-to",
  });
});

export function feeLinksToJSON(feeLinks: FeeLinks): string {
  return JSON.stringify(FeeLinks$outboundSchema.parse(feeLinks));
}

/** @internal */
export type Fee$Outbound = {
  _links?: FeeLinks$Outbound | undefined;
  amount?: models.TransferAmount$Outbound | undefined;
};

/** @internal */
export const Fee$outboundSchema: z.ZodType<Fee$Outbound, z.ZodTypeDef, Fee> = z
  .object({
    links: z.lazy(() => FeeLinks$outboundSchema).optional(),
    amount: models.TransferAmount$outboundSchema.optional(),
  }).transform((v) => {
    return remap$(v, {
      links: "_links",
    });
  });

export function feeToJSON(fee: Fee): string {
  return JSON.stringify(Fee$outboundSchema.parse(fee));
}

/** @internal */
export type InitiateTransferClearing$Outbound = {
  source?: string | undefined;
  destination?: string | undefined;
};

/** @internal */
export const InitiateTransferClearing$outboundSchema: z.ZodType<
  InitiateTransferClearing$Outbound,
  z.ZodTypeDef,
  InitiateTransferClearing
> = z.object({
  source: z.string().optional(),
  destination: z.string().optional(),
});

export function initiateTransferClearingToJSON(
  initiateTransferClearing: InitiateTransferClearing,
): string {
  return JSON.stringify(
    InitiateTransferClearing$outboundSchema.parse(initiateTransferClearing),
  );
}

/** @internal */
export type InitiateTransferSourceAddenda$Outbound = {
  values?: Array<string> | undefined;
};

/** @internal */
export const InitiateTransferSourceAddenda$outboundSchema: z.ZodType<
  InitiateTransferSourceAddenda$Outbound,
  z.ZodTypeDef,
  InitiateTransferSourceAddenda
> = z.object({
  values: z.array(z.string()).optional(),
});

export function initiateTransferSourceAddendaToJSON(
  initiateTransferSourceAddenda: InitiateTransferSourceAddenda,
): string {
  return JSON.stringify(
    InitiateTransferSourceAddenda$outboundSchema.parse(
      initiateTransferSourceAddenda,
    ),
  );
}

/** @internal */
export type InitiateTransferAchDetailsSource$Outbound = {
  addenda?: InitiateTransferSourceAddenda$Outbound | undefined;
};

/** @internal */
export const InitiateTransferAchDetailsSource$outboundSchema: z.ZodType<
  InitiateTransferAchDetailsSource$Outbound,
  z.ZodTypeDef,
  InitiateTransferAchDetailsSource
> = z.object({
  addenda: z.lazy(() => InitiateTransferSourceAddenda$outboundSchema)
    .optional(),
});

export function initiateTransferAchDetailsSourceToJSON(
  initiateTransferAchDetailsSource: InitiateTransferAchDetailsSource,
): string {
  return JSON.stringify(
    InitiateTransferAchDetailsSource$outboundSchema.parse(
      initiateTransferAchDetailsSource,
    ),
  );
}

/** @internal */
export type InitiateTransferDestinationAddenda$Outbound = {
  values?: Array<string> | undefined;
};

/** @internal */
export const InitiateTransferDestinationAddenda$outboundSchema: z.ZodType<
  InitiateTransferDestinationAddenda$Outbound,
  z.ZodTypeDef,
  InitiateTransferDestinationAddenda
> = z.object({
  values: z.array(z.string()).optional(),
});

export function initiateTransferDestinationAddendaToJSON(
  initiateTransferDestinationAddenda: InitiateTransferDestinationAddenda,
): string {
  return JSON.stringify(
    InitiateTransferDestinationAddenda$outboundSchema.parse(
      initiateTransferDestinationAddenda,
    ),
  );
}

/** @internal */
export type InitiateTransferAchDetailsDestination$Outbound = {
  addenda?: InitiateTransferDestinationAddenda$Outbound | undefined;
};

/** @internal */
export const InitiateTransferAchDetailsDestination$outboundSchema: z.ZodType<
  InitiateTransferAchDetailsDestination$Outbound,
  z.ZodTypeDef,
  InitiateTransferAchDetailsDestination
> = z.object({
  addenda: z.lazy(() => InitiateTransferDestinationAddenda$outboundSchema)
    .optional(),
});

export function initiateTransferAchDetailsDestinationToJSON(
  initiateTransferAchDetailsDestination: InitiateTransferAchDetailsDestination,
): string {
  return JSON.stringify(
    InitiateTransferAchDetailsDestination$outboundSchema.parse(
      initiateTransferAchDetailsDestination,
    ),
  );
}

/** @internal */
export type InitiateTransferAchDetails$Outbound = {
  source?: InitiateTransferAchDetailsSource$Outbound | undefined;
  destination?: InitiateTransferAchDetailsDestination$Outbound | undefined;
};

/** @internal */
export const InitiateTransferAchDetails$outboundSchema: z.ZodType<
  InitiateTransferAchDetails$Outbound,
  z.ZodTypeDef,
  InitiateTransferAchDetails
> = z.object({
  source: z.lazy(() => InitiateTransferAchDetailsSource$outboundSchema)
    .optional(),
  destination: z.lazy(() =>
    InitiateTransferAchDetailsDestination$outboundSchema
  ).optional(),
});

export function initiateTransferAchDetailsToJSON(
  initiateTransferAchDetails: InitiateTransferAchDetails,
): string {
  return JSON.stringify(
    InitiateTransferAchDetails$outboundSchema.parse(initiateTransferAchDetails),
  );
}

/** @internal */
export type RtpDetailsDestination$Outbound = {
  remittanceData?: string | undefined;
};

/** @internal */
export const RtpDetailsDestination$outboundSchema: z.ZodType<
  RtpDetailsDestination$Outbound,
  z.ZodTypeDef,
  RtpDetailsDestination
> = z.object({
  remittanceData: z.string().optional(),
});

export function rtpDetailsDestinationToJSON(
  rtpDetailsDestination: RtpDetailsDestination,
): string {
  return JSON.stringify(
    RtpDetailsDestination$outboundSchema.parse(rtpDetailsDestination),
  );
}

/** @internal */
export type RtpDetails$Outbound = {
  destination?: RtpDetailsDestination$Outbound | undefined;
};

/** @internal */
export const RtpDetails$outboundSchema: z.ZodType<
  RtpDetails$Outbound,
  z.ZodTypeDef,
  RtpDetails
> = z.object({
  destination: z.lazy(() => RtpDetailsDestination$outboundSchema).optional(),
});

export function rtpDetailsToJSON(rtpDetails: RtpDetails): string {
  return JSON.stringify(RtpDetails$outboundSchema.parse(rtpDetails));
}

/** @internal */
export type InstantDetailsDestination$Outbound = {
  remittanceData?: string | undefined;
};

/** @internal */
export const InstantDetailsDestination$outboundSchema: z.ZodType<
  InstantDetailsDestination$Outbound,
  z.ZodTypeDef,
  InstantDetailsDestination
> = z.object({
  remittanceData: z.string().optional(),
});

export function instantDetailsDestinationToJSON(
  instantDetailsDestination: InstantDetailsDestination,
): string {
  return JSON.stringify(
    InstantDetailsDestination$outboundSchema.parse(instantDetailsDestination),
  );
}

/** @internal */
export type InstantDetails$Outbound = {
  destination?: InstantDetailsDestination$Outbound | undefined;
};

/** @internal */
export const InstantDetails$outboundSchema: z.ZodType<
  InstantDetails$Outbound,
  z.ZodTypeDef,
  InstantDetails
> = z.object({
  destination: z.lazy(() => InstantDetailsDestination$outboundSchema)
    .optional(),
});

export function instantDetailsToJSON(instantDetails: InstantDetails): string {
  return JSON.stringify(InstantDetails$outboundSchema.parse(instantDetails));
}

/** @internal */
export const DestinationEnum$outboundSchema: z.ZodNativeEnum<
  typeof DestinationEnum
> = z.nativeEnum(DestinationEnum);

/** @internal */
export type InitiateTransferProcessingChannel$Outbound = {
  destination?: string | undefined;
};

/** @internal */
export const InitiateTransferProcessingChannel$outboundSchema: z.ZodType<
  InitiateTransferProcessingChannel$Outbound,
  z.ZodTypeDef,
  InitiateTransferProcessingChannel
> = z.object({
  destination: DestinationEnum$outboundSchema.optional(),
});

export function initiateTransferProcessingChannelToJSON(
  initiateTransferProcessingChannel: InitiateTransferProcessingChannel,
): string {
  return JSON.stringify(
    InitiateTransferProcessingChannel$outboundSchema.parse(
      initiateTransferProcessingChannel,
    ),
  );
}

/** @internal */
export type InitiateTransferRequestBody$Outbound = {
  _links: InitiateTransferLinks$Outbound;
  amount: models.TransferAmount$Outbound;
  metadata?: InitiateTransferMetadata$Outbound | undefined;
  fees?: Array<Fee$Outbound> | undefined;
  clearing?: InitiateTransferClearing$Outbound | undefined;
  achDetails?: InitiateTransferAchDetails$Outbound | undefined;
  rtpDetails?: RtpDetails$Outbound | undefined;
  instantDetails?: InstantDetails$Outbound | undefined;
  correlationId?: string | undefined;
  processingChannel?: InitiateTransferProcessingChannel$Outbound | undefined;
};

/** @internal */
export const InitiateTransferRequestBody$outboundSchema: z.ZodType<
  InitiateTransferRequestBody$Outbound,
  z.ZodTypeDef,
  InitiateTransferRequestBody
> = z.object({
  links: z.lazy(() => InitiateTransferLinks$outboundSchema),
  amount: models.TransferAmount$outboundSchema,
  metadata: z.lazy(() => InitiateTransferMetadata$outboundSchema).optional(),
  fees: z.array(z.lazy(() => Fee$outboundSchema)).optional(),
  clearing: z.lazy(() => InitiateTransferClearing$outboundSchema).optional(),
  achDetails: z.lazy(() => InitiateTransferAchDetails$outboundSchema)
    .optional(),
  rtpDetails: z.lazy(() => RtpDetails$outboundSchema).optional(),
  instantDetails: z.lazy(() => InstantDetails$outboundSchema).optional(),
  correlationId: z.string().optional(),
  processingChannel: z.lazy(() =>
    InitiateTransferProcessingChannel$outboundSchema
  ).optional(),
}).transform((v) => {
  return remap$(v, {
    links: "_links",
  });
});

export function initiateTransferRequestBodyToJSON(
  initiateTransferRequestBody: InitiateTransferRequestBody,
): string {
  return JSON.stringify(
    InitiateTransferRequestBody$outboundSchema.parse(
      initiateTransferRequestBody,
    ),
  );
}

/** @internal */
export type InitiateTransferRequest$Outbound = {
  "Idempotency-Key"?: string | undefined;
  RequestBody: InitiateTransferRequestBody$Outbound;
};

/** @internal */
export const InitiateTransferRequest$outboundSchema: z.ZodType<
  InitiateTransferRequest$Outbound,
  z.ZodTypeDef,
  InitiateTransferRequest
> = z.object({
  idempotencyKey: z.string().optional(),
  requestBody: z.lazy(() => InitiateTransferRequestBody$outboundSchema),
}).transform((v) => {
  return remap$(v, {
    idempotencyKey: "Idempotency-Key",
    requestBody: "RequestBody",
  });
});

export function initiateTransferRequestToJSON(
  initiateTransferRequest: InitiateTransferRequest,
): string {
  return JSON.stringify(
    InitiateTransferRequest$outboundSchema.parse(initiateTransferRequest),
  );
}

/** @internal */
export const InitiateTransferResponse$inboundSchema: z.ZodType<
  InitiateTransferResponse,
  z.ZodTypeDef,
  unknown
> = z.object({
  Headers: z.record(z.array(z.string())).default({}),
}).transform((v) => {
  return remap$(v, {
    "Headers": "headers",
  });
});

export function initiateTransferResponseFromJSON(
  jsonString: string,
): SafeParseResult<InitiateTransferResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => InitiateTransferResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'InitiateTransferResponse' from JSON`,
  );
}
