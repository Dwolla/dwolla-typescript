/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { ClosedEnum } from "../types/enums.js";

export type CreateCustomerExchangeFundingSourceExchange = {
  href: string;
};

export type CreateCustomerExchangeFundingSourceOnDemandAuthorization = {
  href: string;
};

export type CreateCustomerExchangeFundingSourceLinks = {
  exchange: CreateCustomerExchangeFundingSourceExchange;
  onDemandAuthorization?:
    | CreateCustomerExchangeFundingSourceOnDemandAuthorization
    | undefined;
};

/**
 * Type of bank account
 */
export const CreateCustomerExchangeFundingSourceBankAccountType = {
  Checking: "checking",
  Savings: "savings",
} as const;
/**
 * Type of bank account
 */
export type CreateCustomerExchangeFundingSourceBankAccountType = ClosedEnum<
  typeof CreateCustomerExchangeFundingSourceBankAccountType
>;

/**
 * Schema for creating a funding source using an exchange resource. This method is used when the bank account information is obtained via Instant Account Verification (IAV) through an exchange partner (like Plaid, MX, or Finicity).
 */
export type CreateCustomerExchangeFundingSource = {
  links: CreateCustomerExchangeFundingSourceLinks;
  /**
   * Type of bank account
   */
  bankAccountType: CreateCustomerExchangeFundingSourceBankAccountType;
  /**
   * Arbitrary nickname for the funding source. Must be 50 characters or less.
   */
  name: string;
};

/** @internal */
export type CreateCustomerExchangeFundingSourceExchange$Outbound = {
  href: string;
};

/** @internal */
export const CreateCustomerExchangeFundingSourceExchange$outboundSchema:
  z.ZodType<
    CreateCustomerExchangeFundingSourceExchange$Outbound,
    z.ZodTypeDef,
    CreateCustomerExchangeFundingSourceExchange
  > = z.object({
    href: z.string(),
  });

export function createCustomerExchangeFundingSourceExchangeToJSON(
  createCustomerExchangeFundingSourceExchange:
    CreateCustomerExchangeFundingSourceExchange,
): string {
  return JSON.stringify(
    CreateCustomerExchangeFundingSourceExchange$outboundSchema.parse(
      createCustomerExchangeFundingSourceExchange,
    ),
  );
}

/** @internal */
export type CreateCustomerExchangeFundingSourceOnDemandAuthorization$Outbound =
  {
    href: string;
  };

/** @internal */
export const CreateCustomerExchangeFundingSourceOnDemandAuthorization$outboundSchema:
  z.ZodType<
    CreateCustomerExchangeFundingSourceOnDemandAuthorization$Outbound,
    z.ZodTypeDef,
    CreateCustomerExchangeFundingSourceOnDemandAuthorization
  > = z.object({
    href: z.string(),
  });

export function createCustomerExchangeFundingSourceOnDemandAuthorizationToJSON(
  createCustomerExchangeFundingSourceOnDemandAuthorization:
    CreateCustomerExchangeFundingSourceOnDemandAuthorization,
): string {
  return JSON.stringify(
    CreateCustomerExchangeFundingSourceOnDemandAuthorization$outboundSchema
      .parse(createCustomerExchangeFundingSourceOnDemandAuthorization),
  );
}

/** @internal */
export type CreateCustomerExchangeFundingSourceLinks$Outbound = {
  exchange: CreateCustomerExchangeFundingSourceExchange$Outbound;
  "on-demand-authorization"?:
    | CreateCustomerExchangeFundingSourceOnDemandAuthorization$Outbound
    | undefined;
};

/** @internal */
export const CreateCustomerExchangeFundingSourceLinks$outboundSchema: z.ZodType<
  CreateCustomerExchangeFundingSourceLinks$Outbound,
  z.ZodTypeDef,
  CreateCustomerExchangeFundingSourceLinks
> = z.object({
  exchange: z.lazy(() =>
    CreateCustomerExchangeFundingSourceExchange$outboundSchema
  ),
  onDemandAuthorization: z.lazy(() =>
    CreateCustomerExchangeFundingSourceOnDemandAuthorization$outboundSchema
  ).optional(),
}).transform((v) => {
  return remap$(v, {
    onDemandAuthorization: "on-demand-authorization",
  });
});

export function createCustomerExchangeFundingSourceLinksToJSON(
  createCustomerExchangeFundingSourceLinks:
    CreateCustomerExchangeFundingSourceLinks,
): string {
  return JSON.stringify(
    CreateCustomerExchangeFundingSourceLinks$outboundSchema.parse(
      createCustomerExchangeFundingSourceLinks,
    ),
  );
}

/** @internal */
export const CreateCustomerExchangeFundingSourceBankAccountType$outboundSchema:
  z.ZodNativeEnum<typeof CreateCustomerExchangeFundingSourceBankAccountType> = z
    .nativeEnum(CreateCustomerExchangeFundingSourceBankAccountType);

/** @internal */
export type CreateCustomerExchangeFundingSource$Outbound = {
  _links: CreateCustomerExchangeFundingSourceLinks$Outbound;
  bankAccountType: string;
  name: string;
};

/** @internal */
export const CreateCustomerExchangeFundingSource$outboundSchema: z.ZodType<
  CreateCustomerExchangeFundingSource$Outbound,
  z.ZodTypeDef,
  CreateCustomerExchangeFundingSource
> = z.object({
  links: z.lazy(() => CreateCustomerExchangeFundingSourceLinks$outboundSchema),
  bankAccountType:
    CreateCustomerExchangeFundingSourceBankAccountType$outboundSchema,
  name: z.string(),
}).transform((v) => {
  return remap$(v, {
    links: "_links",
  });
});

export function createCustomerExchangeFundingSourceToJSON(
  createCustomerExchangeFundingSource: CreateCustomerExchangeFundingSource,
): string {
  return JSON.stringify(
    CreateCustomerExchangeFundingSource$outboundSchema.parse(
      createCustomerExchangeFundingSource,
    ),
  );
}
