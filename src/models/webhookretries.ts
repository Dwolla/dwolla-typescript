/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

export type WebhookRetriesSelf = {
  href?: string | undefined;
};

export type WebhookRetriesLinks = {
  self?: WebhookRetriesSelf | undefined;
};

export type RetrySelf = {
  href?: string | undefined;
};

export type WebhookRetriesWebhook = {
  href?: string | undefined;
};

export type RetryLinks = {
  self?: RetrySelf | undefined;
  webhook?: WebhookRetriesWebhook | undefined;
};

export type WebhookRetriesRetry = {
  links?: RetryLinks | undefined;
  id?: string | undefined;
  timestamp?: Date | undefined;
};

export type WebhookRetriesEmbedded = {
  retries?: Array<WebhookRetriesRetry> | undefined;
};

export type WebhookRetries = {
  links?: WebhookRetriesLinks | undefined;
  embedded?: WebhookRetriesEmbedded | undefined;
  total?: number | undefined;
};

/** @internal */
export const WebhookRetriesSelf$inboundSchema: z.ZodType<
  WebhookRetriesSelf,
  z.ZodTypeDef,
  unknown
> = z.object({
  href: z.string().optional(),
});

export function webhookRetriesSelfFromJSON(
  jsonString: string,
): SafeParseResult<WebhookRetriesSelf, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WebhookRetriesSelf$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WebhookRetriesSelf' from JSON`,
  );
}

/** @internal */
export const WebhookRetriesLinks$inboundSchema: z.ZodType<
  WebhookRetriesLinks,
  z.ZodTypeDef,
  unknown
> = z.object({
  self: z.lazy(() => WebhookRetriesSelf$inboundSchema).optional(),
});

export function webhookRetriesLinksFromJSON(
  jsonString: string,
): SafeParseResult<WebhookRetriesLinks, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WebhookRetriesLinks$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WebhookRetriesLinks' from JSON`,
  );
}

/** @internal */
export const RetrySelf$inboundSchema: z.ZodType<
  RetrySelf,
  z.ZodTypeDef,
  unknown
> = z.object({
  href: z.string().optional(),
});

export function retrySelfFromJSON(
  jsonString: string,
): SafeParseResult<RetrySelf, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RetrySelf$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RetrySelf' from JSON`,
  );
}

/** @internal */
export const WebhookRetriesWebhook$inboundSchema: z.ZodType<
  WebhookRetriesWebhook,
  z.ZodTypeDef,
  unknown
> = z.object({
  href: z.string().optional(),
});

export function webhookRetriesWebhookFromJSON(
  jsonString: string,
): SafeParseResult<WebhookRetriesWebhook, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WebhookRetriesWebhook$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WebhookRetriesWebhook' from JSON`,
  );
}

/** @internal */
export const RetryLinks$inboundSchema: z.ZodType<
  RetryLinks,
  z.ZodTypeDef,
  unknown
> = z.object({
  self: z.lazy(() => RetrySelf$inboundSchema).optional(),
  webhook: z.lazy(() => WebhookRetriesWebhook$inboundSchema).optional(),
});

export function retryLinksFromJSON(
  jsonString: string,
): SafeParseResult<RetryLinks, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RetryLinks$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RetryLinks' from JSON`,
  );
}

/** @internal */
export const WebhookRetriesRetry$inboundSchema: z.ZodType<
  WebhookRetriesRetry,
  z.ZodTypeDef,
  unknown
> = z.object({
  _links: z.lazy(() => RetryLinks$inboundSchema).optional(),
  id: z.string().optional(),
  timestamp: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
}).transform((v) => {
  return remap$(v, {
    "_links": "links",
  });
});

export function webhookRetriesRetryFromJSON(
  jsonString: string,
): SafeParseResult<WebhookRetriesRetry, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WebhookRetriesRetry$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WebhookRetriesRetry' from JSON`,
  );
}

/** @internal */
export const WebhookRetriesEmbedded$inboundSchema: z.ZodType<
  WebhookRetriesEmbedded,
  z.ZodTypeDef,
  unknown
> = z.object({
  retries: z.array(z.lazy(() => WebhookRetriesRetry$inboundSchema)).optional(),
});

export function webhookRetriesEmbeddedFromJSON(
  jsonString: string,
): SafeParseResult<WebhookRetriesEmbedded, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WebhookRetriesEmbedded$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WebhookRetriesEmbedded' from JSON`,
  );
}

/** @internal */
export const WebhookRetries$inboundSchema: z.ZodType<
  WebhookRetries,
  z.ZodTypeDef,
  unknown
> = z.object({
  _links: z.lazy(() => WebhookRetriesLinks$inboundSchema).optional(),
  _embedded: z.lazy(() => WebhookRetriesEmbedded$inboundSchema).optional(),
  total: z.number().int().optional(),
}).transform((v) => {
  return remap$(v, {
    "_links": "links",
    "_embedded": "embedded",
  });
});

export function webhookRetriesFromJSON(
  jsonString: string,
): SafeParseResult<WebhookRetries, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WebhookRetries$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WebhookRetries' from JSON`,
  );
}
